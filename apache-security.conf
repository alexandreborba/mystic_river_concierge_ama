# /etc/apache2/conf-available/apache-security.conf

# Quick wins
Header always set X-Frame-Options "SAMEORIGIN"
Header always set X-Content-Type-Options "nosniff"

# HSTS: mantém como está no frontal se já existe; só ativa includeSubDomains quando todos os subdomínios suportarem HTTPS
# Header always set Strict-Transport-Security "max-age=63072000; includeSubDomains; preload"

# Bloqueio de ficheiros sensíveis
<FilesMatch "(^\.env|composer\.(json|lock)|package-lock\.json|yarn\.lock)$">
  Require all denied
</FilesMatch>
<Directory "/var/www/html/vendor">
  Require all denied
</Directory>

# (Opcional) Sem listagem de diretório
<Directory "/var/www/html">
  Options -Indexes
</Directory>
